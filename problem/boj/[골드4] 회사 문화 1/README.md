## 회사 문화 1

|풀이 사이트|문제이름|난이도|
|:---:|:---:|:---:|
|[백준](https://www.acmicpc.net/problem/14267)|회사 문화 1|골드 4|

### 문제 풀이

문제를 보자, 누적합 방식으로 풀면 되겠다는 생각이 들었다. 직원의 번호는 순서대로 주어지고, 이를 트리 형태로 구현할 수 있지만, M의 경우와 같이 해당 직속 부하가 받은 칭찬의 점수가 주어지니, DP에 마킹을 해서 풀자라는 식으로 접근했다. 또한 N*M이 되면 시간 초과가 나니 무조건 그 이하로 시간 복잡도를 줄여야 겠다고 생각했다. 개인적으로 문제에서 주어진 수들의 범위가 문제를 푸는데 필요한 알고리즘을 생각하는데에도 도움이 되는 것 같다. 직원 번호에 대한 칭찬 점수는 다음과 같이 주어진다.

```
2 2
3 4
5 6
```

이는 `2번 직원 : 2`, `3번 직원 : 4`, `5번 직원 : 6` 을 각각 칭찬 받았다는 의미이다. 그렇다면 저 직원의 직속 부하들은 모두 각각의 점수를 받게된다. 이는 트리 형식으로 구현할 수 있다.

우선, 위와 같이 입력을 받으면 DP에 해당 번호에 대한 칭찬 점수를 저장한다. 예를 들어 `dp[2] = 2`, `dp[3] = 4`, `dp[5] = 6` 이 된다. 그리고 for문을 통해 사장을 제외한 2번 직원부터 직속 상사의 DP 값을 더한다. 점화식은 다음과 같다.

```
dp[i] = dp[direct[i]] + dp[i];
```

만약 3번 직원의 경우 `본인이 칭찬 받은 4`와 `직속 상사(2번)가 칭찬 받은 2`가 있기 때문에 `6`이 된다. 이런식으로 직원 모두를 구하게 되면 트리 형식의 누적합을 시간 복잡도 `N+M`을 통해 구할 수 있다.